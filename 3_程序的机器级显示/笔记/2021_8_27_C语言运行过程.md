# 1. C语言的运行过程
### 四种文件格式
1. C语言源代码(C source code, <font size="3" color="red">text</font>)
2. 汇编代码(Assemble code, <font size="3" color="red">text</font>)
3. 目标文件(Object file, <font size="3" color="red">binary</font>)
4. 可执行程序(executable, <font size="3" color="red">binary</font>)

### 三种步骤
1. 编译（compile）
2. 汇编（assemble）
3. 连接（link）
   
### 步骤(1) 编译（complile）: gcc
命#令行实现：`g++ -Og -S test.cpp -o test.s`

### 步骤(2) 汇编（assemble）: gcc调用`as`
命令行实现：`g++ -Og -c test.cpp -o test.o`

### 步骤(3) 连接（link）：gcc调用`ld`

# 2. `gcc`优化
编译器优化主要包括以下几个部分：
1. 改变指令的执行顺序
2. 消除不必要的计算
3. 用快速操作替代慢速操作
4. 将递归计算变成迭代计算

## 2.1 `gcc -Og`
选项`-Og`:选择`g`级别的优化等级


# 3. `gdb`用于调试程序

# 4. 计算机利用抽象模式来隐藏实现的细节

## 4.1 抽象模式
对于机器级编程来讲，其中两种抽象最为重要：
1. 指令集体系，或称为；指令集架构（Instruction Set Architecture, ISA）
2. 机器级程序使用的内存地址是虚拟地址，提供的内存模型看上去是一个非常大的字节数组。

## 4.2 x86_64的机器代码和原始的C语言代码有非常大的区别。一些通常对C语言程序隐藏的处理器状态都是可见的。
1. 程序计数器(通常成为“PC”，在x86_64中用`%rip`表示)：给出将要执行的下一条指令在内存中的地址。
<font color="gree" size="4"><b>整数寄存器的用途见书P120</b></font>
2. 整数寄存器：包含16个命名的位置，分别储存64位的值。这些寄存器可以存储地址（C语言的指针）或整数数据。有的寄存器用来记录某些重要的程序状态。而其他的用来保存临时数据，例如过程的参数、局部变量、返回值。
3. 条件码寄存器：保存最近执行的算术或逻辑指令的状态信息，它们用来实现控制或数据流中的条件变化，比如`if`和`while` 
4. 向量寄存器：可以存档一个或多个整数或浮点数

## 4.3 C语言和机器代码的区别
1. C语言可以在内存中声明和分配各种数据类型的对象；机器代码只是简单地将内存看成一个很大的、按字节寻址的数组。
2. 汇编代码不区分有有符号整数和无符号整数、不区分各种类型的指针、甚至不区分整数和指针。
3. 一条指令只进行一个非常基本的操作。